<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "en" }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     {{/* NOTE: the Site's title, and if there is a page title, that is set too */}}
    <title>{{ block "title" . }}{{ .Site.Title }} {{ with .Title }} | {{ . }}{{ end }}{{ end }}</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     {{ .Hugo.Generator }}
      {{/* NOTE: For Production make sure you add `HUGO_ENV="production"` before your build command */}}
      {{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      {{ else }}
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      {{ end }}

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
    <link href='{{ "css/tutorial20.css" | absURL }}' rel='stylesheet' type="text/css" />

    <script type="text/javascript">window.liveSettings={api_key:"91df808d6f9e456ebcecd85824bbdd2c"}</script>
    <script type="text/javascript" src="//cdn.transifex.com/live.js"></script>

     {{ if .RSSLink }}
      <link href="{{ .RSSLink }}" rel="alternate" type="application/rss+xml" title="{{ .Site.Title }}" />
      <link href="{{ .RSSLink }}" rel="feed" type="application/rss+xml" title="{{ .Site.Title }}" />
      {{ end }}

      {{/* NOTE: These Hugo Internal Templates can be found starting at https://github.com/spf13/hugo/blob/master/tpl/tplimpl/template_embedded.go#L158 */}}
      {{- template "_internal/opengraph.html" . -}}
      {{- template "_internal/google_news.html" . -}}
      {{- template "_internal/schema.html" . -}}
      {{- template "_internal/twitter_cards.html" . -}}

    <script type="text/javascript">
      document.write('<style type="text/css" title="default">.helpDetail, .helpLink, .keefoxState, .jsDisabled { display: none; }</style>');

      var connectionTimeout;

      window.addEventListener("DOMContentLoaded", function(){
        connectionTimeout = setTimeout(function() {
          document.getElementById("keefoxState-not-keefox").style.display = "block";
        }, 5000);
      });

    </script>

    {{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108284341-3"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-108284341-3');
      </script>

    {{ end }}
    <!-- execute before matomo if we can so we can track the page view as quickly as
        possible (relies on extra network request to load rid iframe and
        then async postmessage comms with that) -->
    <script>
      var matomoInitialPageViewTracked = false;
      var onRandomIdRetrievedFromStorage = function (val) {
        // We have no idea if the matomo tracker is ready 
        // yet but we do know the _paq array will be there
        if (val) {
          _paq.push(["setUserId", val]);
          _paq.push(["setCustomVariable", 1, "vtype", "known", "visit"]);
        } else {
          _paq.push(["setCustomVariable", 1, "vtype", "unknown", "visit"]);
        }

        if (matomoInitialPageViewTracked) {
          _paq.push(['trackEvent', 'Account', 'SignIn', 'ExistingSession']);
        } else {
          _paq.push(['trackPageView']);
          _paq.push(['enableLinkTracking']);
          _paq.push(['enableHeartBeatTimer']);
        }
      }

      // If rid is being exceptionally slow, still try to log a page view
      setTimeout(onRandomIdRetrievedFromStorage, 15000, null);
    </script>

    <!-- don't defer cos we know we'll trigger a new network request after executing -->
    <script async src='{{ "js/rid.js" | absURL }}'></script>

    <!-- Matomo -->
    <script type="text/javascript">
      var _paq = _paq || [];

      (function () {
        var u = "https://matomo.kee.pm/js/";
        _paq.push(["disableCookies"]);
        _paq.push(['setTrackerUrl', u]);
        _paq.push(['setAPIUrl', u]);
        _paq.push(['setSiteId', '2']);
        _paq.push(['discardHashTag', 'true']);
        var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
        g.type = 'text/javascript'; g.async = true; g.defer = true; g.src = u; s.parentNode.insertBefore(g, s);
      })();
    </script>
    <noscript>
      <p><img src="https://matomo.kee.pm/js/?idsite=2&amp;rec=1" style="border:0;" alt="" /></p>
    </noscript>
    <!-- End Matomo Code -->
  </head>

  <body id="body">
    <div id="container">

  <div id="keefoxState-jsDisabled" class="jsDisabled">Please enable Javascript and reload before proceding.</div>
  
	<div id="keefoxState-not-keefox" class="keefoxState">
    <p class="actionRequired">Action required</p>
    <p>It looks like you don't have Kee installed in your web browser.</p>
    <p><a href="https://www.kee.pm">Kee</a> automatically fills usernames and passwords into your favourite websites to save you time. By remembering just one password for your password database you can then make all of your individual website passwords different and more secure because you will not need to remember them anymore. So using Kee will save you time and keep your online accounts more secure!</p>
    <p>This message might also mean that you are running an old version of Kee or it's predecessor KeeFox so please upgrade to Kee 2.0 or higher.</p>
  </div>

  <div id="keefoxState-not-connected" class="keefoxState">
    <p class="actionRequired">Action required</p>
    <p>Kee stores your passwords in a secure separate password manager called KeePass Password Safe 2. It's full of great features and Kee keeps your everyday internet login tasks simple.</p>
    <p>You need to run KeePass so that Kee can connect to it.</p>
    <p>If KeePass is not installed on your computer, you can easily download and install it yourself.</p>
    <p>You'll need to install the KeePassRPC.plgx plugin for KeePass too, if you haven't already.</p>
    <p>Instructions for both above steps can be found on <a href="https://forum.kee.pm/t/installing-kee-instructions/23">our community forum</a></p>
    <p>If KeePass is already running but Kee has not connected to it, other security software on your computer is the most likely cause of the problem but it is usually possible to change a setting in that software so that it allows Kee to work.</p>
    <p>You can find more detailed <a href="https://github.com/luckyrat/KeeFox/wiki/en-%7C-Troubleshooting">troubleshooting advice in the manual</a>.</p>
</div>
    
  <div id="keefoxState-logged-out" class="keefoxState">
    <p class="actionRequired">Action required</p>
    <p>You need to log in to your password database before this tutorial will work. Reload this page once you have entered your master password.</p>
  </div>
    
  <h1 style="margin-left:-48px;"><img width="48" height="48" src='{{ "images/KeeFox48.png" | absURL }}' alt="Kee icon" style="vertical-align:middle;padding-bottom:4px;" /> Kee tutorial</h1>
		
{{ block "main" . }}{{ end }}

</div>
<div id="KeeFoxFooter"><a href="https://www.kee.pm">Kee</a> was previously known as KeeFox. Kee development is hosted at <a href="https://github.com/kee-org/browser-addon">GitHub</a> - please get involved!</div>

	<script type="text/javascript">
		document.addEventListener("KeeFoxAddonStateTransferEvent", function(event) {
			if (connectionTimeout)
				clearTimeout(connectionTimeout);

			var state = document.getElementsByTagName("KeeFoxAddonStateTransferElement")[0].getAttribute("state");
			var data = JSON.parse(state);

			if (!data.connected) {
        document.getElementById("keefoxState-not-connected").style.display = "block";
      } else if (!data.dbLoaded) {
        document.getElementById("keefoxState-logged-out").style.display = "block";
      }
			// else everything is awesome

	}, false);
	</script>
</body>
</html>
